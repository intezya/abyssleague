version: "2"

linters:
  default: all

  disable:
    - wrapcheck
    - ireturn # ???
    - nonamedreturns
    - gochecknoinits # not configurable (swaggo docs must be excluded)
    - gochecknoglobals # not configurable (swaggo docs, custom errors and validator must be excluded)
    - errname # not configurable (canonical custom http-like errors must be excluded)
    - depguard
    # Must be turned on after
    - revive

  settings:
    gomoddirectives:
      replace-local: true

    funlen:
      lines: 90

    cyclop:
      max-complexity: 15

    recvcheck:
      exclusions:
        - "*.Value"
        - "*.Scan"

    tagalign:
      sort: true

      order:
        - json
        - yaml
        - yml
        - toml
        - mapstructure
        - binding
        - validate
        # Tag for swaggo (ordered after json and validate, because if an example exists,
        # json and validate also exist (if validations exist in principle))
        - example

    tagliatelle:
      case:
        rules:
          json: snake

    varnamelen:
      ignore-names:
        - c  # Canonical naming (fiber context)
        - id  # Canonical naming (any identification)
        - ok # Canonical naming (boolean value)

  exclusions:
    rules:
      - path: docs/docs.go # autogenerated by swaggo/swag
        linters:
          - lll
      - path: internal/common/errors # custom application errors
        linters:
          - err113

formatters:
  enable:
    - gci
    - gofmt
    - gofumpt
    - golines
